<link rel="stylesheet" href="/assets/demo.css">

<%= render(:partial => "shared/dropdown_object_menu", :locals => {:id => "object-dropdown-menu"}) %>

<div style="position:absolute">
  <div id="demo">
    <div class="component window" id="object-<%= @id %>">
    <div style="white-space: nowrap;"><b class="icon-refresh"></b>Loading...</div></div>
  </div>
</div>

<script src="/assets/jquery.jsPlumb-1.3.15-all-min.js" type="text/javascript"></script>
<script src="/assets/demo.js" type="text/javascript"></script>
<script src="/assets/demo-list.js" type="text/javascript"></script>
<script src="/assets/demo-helper-jquery.js" type="text/javascript"></script>

<script type="text/javascript">
  function loadObject(id) {
    $.post("/ObjectExplorer/object.html", {"id": id}, function(response) {
      $("#object-" + id).html(response);
    });
  }

  $(document).ready(function() {
    loadObject(<%= @id %>);  
    console.log("loading finished!");
  });
</script>
